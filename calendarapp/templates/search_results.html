{% extends "base.html" %}
{% load static %}
{% block title %} Search Results {% endblock title%}
{% block content %}
<h2>Results for "{{ query }}"</h2>

<h3>Events:</h3>

{% if event_results %}
<p>Events Results Count: {{event_results_count}}</p>

{% for event in event_results %}
<h5>{{ event.title|slice:60 }}{% if event.title|length > 60 %}...{% endif %}</h5>
<ul>
    <li>Time: {{ event.start }} - {{ event.end }}<br></li>
    <li>Description: {{ event.description }}</li>
</ul>
{% endfor %}

{% else %}
    <p>No events found.</p>
{% endif %}

<h3>Study Sessions:</h3>

{% if session_results %}
<p>Events Results Count: {{session_results_count}}</p>

{% for session in session_results %}
<h5>{{ session.title|slice:60 }}{% if session.title|length > 60 %}...{% endif %}</h5>
<ul>
    <li>Time: {{ session.date }} {{ session.start_time }} - {{ session.end_time }}</li>
    <li>Host: {{ session.host }}</li>
    <li>Description: {{ session.description }}</li>
</ul>
{% endfor %}

{% else %}
    <p>No events found.</p>
{% endif %}

{% endblock content %}